---
// SocialIcons.astro - Social icons using React Toggle components
---

<div id="social-icons-root"></div>

<script>
  import { Toggle } from "@semio/js/components/ui/Toggle";
  import React, { createElement } from "react";
  import { createRoot } from "react-dom/client";

  // Wait for DOM to be ready
  document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('social-icons-root');
    if (!container) return;

    const socialLinks = [
      {
        href: "https://github.com/usalu/semio",
        label: "GitHub",
        icon: createElement("svg", {
          xmlns: "http://www.w3.org/2000/svg",
          width: 16,
          height: 16,
          viewBox: "0 0 24 24",
          fill: "none",
          stroke: "currentColor",
          strokeWidth: 2,
          strokeLinecap: "round",
          strokeLinejoin: "round"
        }, [
          createElement("path", { 
            key: "path1",
            d: "M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
          }),
          createElement("path", { 
            key: "path2",
            d: "M9 18c-4.51 2-5-2-7-2"
          })
        ])
      },
      {
        href: "https://discord.gg/m6nnf6pQRc",
        label: "Discord",
        icon: createElement("svg", {
          xmlns: "http://www.w3.org/2000/svg",
          width: 16,
          height: 16,
          viewBox: "0 0 24 24",
          fill: "none",
          stroke: "currentColor",
          strokeWidth: 2,
          strokeLinecap: "round",
          strokeLinejoin: "round"
        }, [
          createElement("path", { 
            key: "path1",
            d: "m8 2 1.88 1.88"
          }),
          createElement("path", { 
            key: "path2", 
            d: "M14.12 3.88 16 2"
          }),
          createElement("path", { 
            key: "path3",
            d: "M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"
          }),
          createElement("path", { 
            key: "path4",
            d: "M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"
          }),
          createElement("path", { 
            key: "path5",
            d: "M12 20v-9"
          }),
          createElement("path", { 
            key: "path6",
            d: "M6.53 9C10.666 13.666 14.334 13.666 17.47 9"
          })
        ])
      }
    ];

    const handleSocialClick = (href: string) => {
      window.open(href, '_blank', 'noopener,noreferrer');
    };

    const root = createRoot(container);
    
    const SocialIconsComponent = () => {
      return createElement("div", {
        className: "flex items-center gap-2"
      }, socialLinks.map((link, index) => 
        createElement(Toggle, {
          key: index,
          variant: "outline",
          tooltip: link.label,
          onClick: () => handleSocialClick(link.href),
          children: link.icon
        })
      ));
    };

    root.render(createElement(SocialIconsComponent));
  });
</script>
